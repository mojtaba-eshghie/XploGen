import unittest

from bin.extract_contract_code import extract_contract_code

full_code = bytes.fromhex('6060604052341561000f57600080fd5b5b6101108061001f6000396000f30060606040526000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063b5c5f67214603d575b600080fd5b3415604757600080fd5b6083600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919080359060200190919050506085565b005b600083905081630badf00d1863cafebabe8418141560dd578073ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f19350505050151560dc57600080fd5b5b5b505050505600a165627a7a72305820974d4fa390f8db696020309d59ffffa9c157c38e3c24182b7a0d3b1a833a10620029')
contract_code = bytes.fromhex('60606040526000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063b5c5f67214603d575b600080fd5b3415604757600080fd5b6083600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919080359060200190919080359060200190919050506085565b005b600083905081630badf00d1863cafebabe8418141560dd578073ffffffffffffffffffffffffffffffffffffffff166108fc839081150290604051600060405180830381858888f19350505050151560dc57600080fd5b5b5b505050505600a165627a7a72305820974d4fa390f8db696020309d59ffffa9c157c38e3c24182b7a0d3b1a833a10620029')


class TestContractExtraction(unittest.TestCase):
    def test_simple_extraction(self):
        self.assertEqual(extract_contract_code(full_code), contract_code)
