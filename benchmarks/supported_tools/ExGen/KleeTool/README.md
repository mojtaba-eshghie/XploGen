# KleeTool

The tool is primarily used to generate THE LLVM IR that can be analyzed by Klee, relying on the JSON call chain generated by dataflow analysis, and the LLVM intermediate code of the source program.

## Build

1. Create the `build` folder in the project root.

```shell
KleeTool/$ mkdir build
KleeTool/$ cd build
KleeTool/build/$ cmake ..
KleeTool/build/$ make -j4
```

2. ue shell script

```shell script
KleeTool/$ sudo chmod u+x build.sh
KleeTool/$ ./build.sh
```

Source code compilation can be completed, binary executable file exists in the path of `KleeTool/bin/`.

## Tutorial

First of all, I need to set up a Dataset folder, the path according to their preferences, for example in `~/Dataset/KleeTest`.

```shell script
~/Dataset/$ mkdir KleeTest
~/Dataset/$ cd KleeTest
```

The source code, LLVM intermediate code, and JSON are then put into the same folder with the same folder name as the source file name.

For example, if I have three files called `test1.c, test1.ll, test1.JSON`, then I create a new folder called `test1`.

```shell script
~/Dataset/KleeTest/$ mkdir test1
```

Similarly, put all the data sets into KleeTest. At this point, there should be multiple folders under the KleeTest folder, respectively storing different source files.

Finally, run the KleeTool tool, taking the path to all the data set folders, such as KleeTest.

```shell script
~/Dataset/KleeTest/$ .../KleeTool/bin/KleeTool ~/Dataset/KleeTest/
```

## Others

~~The current tool on EOS platform WASM decompiled out of the LL file has a bug, may not be able to generate available LL file, bug fix.~~

The bug has been fixed
